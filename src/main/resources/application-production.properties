# Production-specific settings — enable by running with `--spring.profiles.active=production` or set SPRING_PROFILES_ACTIVE=production

# Require explicit JDBC URL in production (set SPRING_DATASOURCE_URL in Railway Variables)
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:${MYSQLUSER:root}}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:${MYSQLPASSWORD:${MYSQL_ROOT_PASSWORD:}}}

# Use production-safe JPA settings — do NOT auto-update schema in production
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=false

# Hikari: fail fast but with a reasonable timeout (ms)
spring.datasource.hikari.initialization-fail-timeout=30000
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.maximum-pool-size=10

# Optionally defer datasource initialization (useful when using SQL init scripts)
# spring.jpa.defer-datasource-initialization=true
